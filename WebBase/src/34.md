# 前端常用的设计模式，以及使用场景

### 工厂模式
- 用一个工厂函数，来创建实例，隐藏 `new`
- 如 `jquery` `$` 函数
- 如 `React createElement` 函数

### 单例模式
- 全局唯一的实例（无法生成第二个）
- 如 `Vuex` `Redux` 的 `store`
- 如开局唯一的 `dialog` `modal`

!> `JS` 是单线程的，创建单例很简单，`java` 是支持多线程的，创建单例要考虑锁死线程，否则多个线程同时创建，单例就重复了（多线程共享进程内存）

### 代理模式
- 使用者不能直接访问对象，而是访问一个代理层
- 在代理层可以监听 `get` `set` 做很多事情
- 如 `ES6` `Proxy` 实现 `Vue3` 响应式
 
### 观察者模式

```js
  // 一个主题，一个观察者，主题变化之后触发观察者执行
  btn.addEventListener('click', () => {
    // no thing
  })
```

### 发布订阅模式

```js
  // 绑定
  event.on('enent-key', () => {
    // 事件1
  })

  // 绑定
  event.on('enent-key', () => {
    // 事件2
  })

  // 触发执行
  event.emit('event-key')
```

### 装饰器模式
- 原功能不变，增加一些新功能（AOP面向切面编程）
- `ES` 和 `Typescript` 的 `Decorator` 语法
- 类装饰器、方法装饰器

### 总结
- 工厂模式
- 单例模式
- 代理模式
- 观察者模式
- 发布订阅模式
- 装饰器模式
